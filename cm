<!DOCTYPE html>

<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë§ˆë²•ì†Œë…€ í”„ë¡œí•„ í¸ì§‘ê¸°</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');

```
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    body {
        font-family: 'Courier New', 'Orbitron', monospace;
        background: #0a0a0a;
        color: #e0e0e0;
        line-height: 1.4;
        padding: 20px;
        background-image: 
            radial-gradient(circle at 25% 25%, #111 1px, transparent 1px),
            radial-gradient(circle at 75% 75%, #111 1px, transparent 1px);
        background-size: 20px 20px;
        min-height: 100vh;
    }
    
    .container {
        max-width: 900px;
        margin: 0 auto;
        background: #1a1a1a;
        border: 3px solid #333;
        box-shadow: 
            0 0 0 1px #666,
            inset 0 0 0 1px #000,
            0 0 20px rgba(255,255,255,0.1);
        position: relative;
    }
    
    .container::before {
        content: '';
        position: absolute;
        top: -3px;
        left: -3px;
        right: -3px;
        bottom: -3px;
        background: linear-gradient(45deg, #444, #222, #444, #222);
        z-index: -1;
    }
    
    .header {
        background: #000;
        border-bottom: 2px solid #333;
        padding: 15px 20px;
        text-align: center;
        position: relative;
    }
    
    .header::after {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(90deg, transparent, #666, transparent);
    }
    
    .title {
        font-size: 24px;
        font-weight: 900;
        letter-spacing: 3px;
        text-transform: uppercase;
        color: #fff;
        text-shadow: 2px 2px 0 #000, -1px -1px 0 #333;
    }
    
    .subtitle {
        font-size: 12px;
        color: #888;
        margin-top: 5px;
        letter-spacing: 2px;
    }
    
    .controls {
        background: #222;
        border-bottom: 1px solid #333;
        padding: 10px 20px;
        display: flex;
        justify-content: center;
        gap: 10px;
    }
    
    .btn {
        background: #333;
        border: 2px solid #555;
        color: #ccc;
        padding: 8px 16px;
        font-family: inherit;
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 1px;
        cursor: pointer;
        transition: all 0.2s;
    }
    
    .btn:hover {
        background: #444;
        border-color: #777;
        color: #fff;
    }
    
    .btn:active {
        background: #222;
    }
    
    .content {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        padding: 20px;
    }
    
    .profile-section {
        grid-column: 1 / -1;
        display: grid;
        grid-template-columns: 220px 1fr;
        gap: 20px;
        margin-bottom: 10px;
    }
    
    .profile-image-container {
        position: relative;
    }
    
    .profile-image {
        width: 220px;
        height: 220px;
        border: 3px solid #333;
        background: #111;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
        cursor: pointer;
        overflow: hidden;
    }
    
    .profile-image:hover {
        border-color: #555;
    }
    
    .profile-image::before {
        content: 'ğŸ“·\ACLICK TO UPLOAD';
        font-size: 32px;
        opacity: 0.4;
        text-align: center;
        white-space: pre;
        line-height: 1.2;
    }
    
    .profile-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        filter: contrast(1.2) grayscale(0.8);
    }
    
    .profile-image input[type="file"] {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0;
        cursor: pointer;
    }
    
    .remove-image {
        position: absolute;
        top: 5px;
        right: 5px;
        background: #ff0000;
        color: white;
        border: none;
        width: 20px;
        height: 20px;
        font-size: 12px;
        cursor: pointer;
        display: none;
    }
    
    .basic-info {
        background: #111;
        border: 2px solid #333;
        padding: 15px;
    }
    
    .info-row {
        display: flex;
        margin-bottom: 8px;
        font-size: 14px;
        align-items: center;
    }
    
    .info-label {
        width: 80px;
        color: #aaa;
        font-weight: bold;
    }
    
    .info-value {
        color: #fff;
        flex: 1;
    }
    
    .section {
        background: #111;
        border: 2px solid #333;
        margin-bottom: 20px;
    }
    
    .section-header {
        background: #222;
        border-bottom: 1px solid #333;
        padding: 10px 15px;
        font-size: 14px;
        font-weight: bold;
        text-transform: uppercase;
        letter-spacing: 1px;
        color: #ccc;
    }
    
    .section-content {
        padding: 15px;
    }
    
    .stats-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
    }
    
    .stat-item {
        margin-bottom: 15px;
    }
    
    .stat-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 5px;
    }
    
    .stat-label {
        font-size: 12px;
        color: #aaa;
        text-transform: uppercase;
        letter-spacing: 1px;
    }
    
    .stat-input {
        background: transparent;
        border: 1px solid #444;
        color: #fff;
        width: 50px;
        text-align: center;
        font-family: inherit;
        font-size: 10px;
        padding: 2px;
    }
    
    .stat-input:focus {
        outline: none;
        border-color: #777;
        background: #222;
    }
    
    .stat-bar {
        background: #000;
        border: 1px solid #333;
        height: 20px;
        position: relative;
        box-shadow: inset 0 0 5px rgba(0,0,0,0.5);
    }
    
    .stat-fill {
        background: linear-gradient(90deg, #333, #666, #333);
        height: 100%;
        position: relative;
        transition: width 0.3s ease;
    }
    
    .stat-fill::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
    }
    
    .stat-value {
        position: absolute;
        right: 5px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 10px;
        font-weight: bold;
        color: #fff;
        text-shadow: 1px 1px 0 #000;
    }
    
    .description {
        font-size: 13px;
        line-height: 1.6;
        color: #ccc;
    }
    
    .magic-theme {
        margin-top: 15px;
    }
    
    .theme-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-bottom: 10px;
    }
    
    .theme-tag {
        background: #222;
        border: 1px solid #444;
        padding: 4px 8px;
        font-size: 11px;
        text-transform: uppercase;
        letter-spacing: 1px;
        color: #aaa;
        position: relative;
        cursor: pointer;
    }
    
    .theme-tag:hover {
        background: #333;
        border-color: #555;
    }
    
    .theme-tag .remove-tag {
        position: absolute;
        top: -5px;
        right: -5px;
        background: #ff0000;
        color: white;
        border: none;
        width: 15px;
        height: 15px;
        font-size: 10px;
        border-radius: 50%;
        cursor: pointer;
        display: none;
    }
    
    .theme-tag:hover .remove-tag {
        display: block;
    }
    
    .add-tag {
        display: flex;
        gap: 5px;
        align-items: center;
    }
    
    .tag-input {
        background: transparent;
        border: 1px dashed #555;
        color: #ccc;
        padding: 4px 8px;
        font-family: inherit;
        font-size: 11px;
        text-transform: uppercase;
    }
    
    .tag-input:focus {
        outline: none;
        border-color: #777;
        background: #222;
    }
    
    .editable {
        background: transparent;
        border: 1px dashed #555;
        color: #ccc;
        padding: 2px 4px;
        font-family: inherit;
        font-size: inherit;
        width: 100%;
    }
    
    .editable:focus {
        outline: none;
        border-color: #777;
        background: #222;
    }
    
    textarea.editable {
        min-height: 100px;
        resize: vertical;
    }
    
    .glitch {
        position: relative;
        animation: glitch 3s infinite;
    }
    
    @keyframes glitch {
        0%, 100% { transform: translate(0); }
        20% { transform: translate(-1px, 1px); }
        40% { transform: translate(-1px, -1px); }
        60% { transform: translate(1px, 1px); }
        80% { transform: translate(1px, -1px); }
    }
    
    .notification {
        position: fixed;
        top: 20px;
        right: 20px;
        background: #222;
        border: 2px solid #555;
        color: #fff;
        padding: 10px 15px;
        font-size: 12px;
        opacity: 0;
        transition: opacity 0.3s;
        z-index: 1000;
    }
    
    .notification.show {
        opacity: 1;
    }
    
    .export-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,0.8);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 2000;
    }
    
    .export-dialog {
        background: #1a1a1a;
        border: 3px solid #333;
        padding: 20px;
        text-align: center;
        box-shadow: 0 0 20px rgba(255,255,255,0.1);
    }
    
    .loading-spinner {
        width: 40px;
        height: 40px;
        border: 3px solid #333;
        border-top: 3px solid #666;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin: 0 auto 15px;
    }
    
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
</style>
```

</head>
<body>
    <div class="notification" id="notification"></div>

```
<div class="export-overlay" id="exportOverlay">
    <div class="export-dialog">
        <div class="loading-spinner"></div>
        <div>ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...</div>
    </div>
</div>

<div class="container">
    <div class="header">
        <div class="title glitch">MAGICAL GIRL</div>
        <div class="subtitle">PROFILE DATABASE - EDITOR</div>
    </div>
    
    <div class="controls">
        <button class="btn" onclick="saveProfile()">ì €ì¥</button>
        <button class="btn" onclick="loadProfile()">ë¶ˆëŸ¬ì˜¤ê¸°</button>
        <button class="btn" onclick="resetProfile()">ì´ˆê¸°í™”</button>
        <button class="btn" onclick="exportProfile()">JSON ë‚´ë³´ë‚´ê¸°</button>
        <button class="btn" onclick="exportAsImage()">ì´ë¯¸ì§€ ë‚´ë³´ë‚´ê¸°</button>
    </div>
    
    <div class="content">
        <div class="profile-section">
            <div class="profile-image-container">
                <div class="profile-image" id="profileImage">
                    <input type="file" id="imageUpload" accept="image/*">
                </div>
                <button class="remove-image" id="removeImage" onclick="removeProfileImage()">Ã—</button>
            </div>
            
            <div class="basic-info">
                <div class="section-header">ê¸°ë³¸ ì •ë³´</div>
                <div class="section-content">
                    <div class="info-row">
                        <span class="info-label">ì´ë¦„:</span>
                        <input type="text" class="editable info-value" id="name" value="ì‚¬ì¿ ë¼ ë¯¸ì¦ˆí‚¤">
                    </div>
                    <div class="info-row">
                        <span class="info-label">ë‚˜ì´:</span>
                        <input type="text" class="editable info-value" id="age" value="16">
                    </div>
                    <div class="info-row">
                        <span class="info-label">ë“±ê¸‰:</span>
                        <input type="text" class="editable info-value" id="rank" value="Sê¸‰">
                    </div>
                    <div class="info-row">
                        <span class="info-label">ì†Œì†:</span>
                        <input type="text" class="editable info-value" id="affiliation" value="ë‹¬ë¹› ë§ˆë²•ì†Œë…€ ì—°í•©">
                    </div>
                    <div class="info-row">
                        <span class="info-label">ê³„ì•½ì¼:</span>
                        <input type="date" class="editable info-value" id="contractDate" value="2024-03-15">
                    </div>
                </div>
            </div>
        </div>
        
        <div class="section">
            <div class="section-header">ëŠ¥ë ¥ì¹˜</div>
            <div class="section-content">
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-header">
                            <div class="stat-label">ë§ˆë²•ì†Œë…€ ì ì„±</div>
                            <input type="number" class="stat-input" min="0" max="100" value="85" onchange="updateStat(this, 'aptitude')">
                        </div>
                        <div class="stat-bar">
                            <div class="stat-fill" id="aptitude-fill" style="width: 85%"></div>
                            <div class="stat-value" id="aptitude-value">85/100</div>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-header">
                            <div class="stat-label">ê³µê²©ë ¥</div>
                            <input type="number" class="stat-input" min="0" max="100" value="70" onchange="updateStat(this, 'attack')">
                        </div>
                        <div class="stat-bar">
                            <div class="stat-fill" id="attack-fill" style="width: 70%"></div>
                            <div class="stat-value" id="attack-value">70/100</div>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-header">
                            <div class="stat-label">ë°©ì–´ë ¥</div>
                            <input type="number" class="stat-input" min="0" max="100" value="60" onchange="updateStat(this, 'defense')">
                        </div>
                        <div class="stat-bar">
                            <div class="stat-fill" id="defense-fill" style="width: 60%"></div>
                            <div class="stat-value" id="defense-value">60/100</div>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-header">
                            <div class="stat-label">ë§ˆë‚˜ íš¨ìœ¨</div>
                            <input type="number" class="stat-input" min="0" max="100" value="90" onchange="updateStat(this, 'mana')">
                        </div>
                        <div class="stat-bar">
                            <div class="stat-fill" id="mana-fill" style="width: 90%"></div>
                            <div class="stat-value" id="mana-value">90/100</div>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-header">
                            <div class="stat-label">ë¯¼ì²©ì„±</div>
                            <input type="number" class="stat-input" min="0" max="100" value="75" onchange="updateStat(this, 'agility')">
                        </div>
                        <div class="stat-bar">
                            <div class="stat-fill" id="agility-fill" style="width: 75%"></div>
                            <div class="stat-value" id="agility-value">75/100</div>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-header">
                            <div class="stat-label">ì •ì‹ ë ¥</div>
                            <input type="number" class="stat-input" min="0" max="100" value="95" onchange="updateStat(this, 'mental')">
                        </div>
                        <div class="stat-bar">
                            <div class="stat-fill" id="mental-fill" style="width: 95%"></div>
                            <div class="stat-value" id="mental-value">95/100</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="section">
            <div class="section-header">ë§ˆë²• & í…Œë§ˆ</div>
            <div class="section-content">
                <div class="info-row">
                    <span class="info-label">ì£¼ ì†ì„±:</span>
                    <input type="text" class="editable info-value" id="mainAttribute" value="ë¹›/ì¹˜ìœ ">
                </div>
                <div class="info-row">
                    <span class="info-label">ë¬´ê¸°:</span>
                    <input type="text" class="editable info-value" id="weapon" value="ë¬¸ë¼ì´íŠ¸ í¬ë¦¬ìŠ¤í„¸ ìŠ¤íƒœí”„">
                </div>
                <div class="magic-theme">
                    <div class="theme-tags" id="themeTags">
                        <div class="theme-tag">HEALING<button class="remove-tag" onclick="removeTag(this)">Ã—</button></div>
                        <div class="theme-tag">LIGHT MAGIC<button class="remove-tag" onclick="removeTag(this)">Ã—</button></div>
                        <div class="theme-tag">BARRIER<button class="remove-tag" onclick="removeTag(this)">Ã—</button></div>
                        <div class="theme-tag">PURIFICATION<button class="remove-tag" onclick="removeTag(this)">Ã—</button></div>
                    </div>
                    <div class="add-tag">
                        <input type="text" class="tag-input" id="newTag" placeholder="ìƒˆ íƒœê·¸" onkeypress="handleTagEnter(event)">
                        <button class="btn" onclick="addTag()">ì¶”ê°€</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="section" style="grid-column: 1 / -1;">
            <div class="section-header">í•´ì„ & ì„¤ëª…</div>
            <div class="section-content">
                <textarea class="editable description" id="description">ë›°ì–´ë‚œ ì¹˜ìœ  ëŠ¥ë ¥ê³¼ ë°©ì–´ ë§ˆë²•ì— íŠ¹í™”ëœ ì„œí¬íŠ¸í˜• ë§ˆë²•ì†Œë…€ì…ë‹ˆë‹¤.
```

ë†’ì€ ì •ì‹ ë ¥ìœ¼ë¡œ ì–´ë ¤ìš´ ìƒí™©ì—ì„œë„ ëƒ‰ì •í•¨ì„ ìœ ì§€í•˜ë©°, íŒ€ì›ë“¤ì„ ë³´í˜¸í•˜ëŠ” ê²ƒì„ ìµœìš°ì„ ìœ¼ë¡œ í•˜ëŠ” í¬ìƒì  ì„±ê²©ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

ë¹›ì˜ ë§ˆë²•ìœ¼ë¡œ ì ì˜ ì–´ë‘ ì„ ì •í™”í•˜ëŠ” íŠ¹ë³„í•œ ëŠ¥ë ¥ì„ ë³´ìœ í•˜ê³  ìˆìœ¼ë©°, ë‹¬ë¹› ì•„ë˜ì—ì„œ ë§ˆë²• íš¨ìœ¨ì´ í¬ê²Œ ì¦ê°€í•©ë‹ˆë‹¤.

ì „íˆ¬ ìŠ¤íƒ€ì¼ì€ ì§ì ‘ì ì¸ ê³µê²©ë³´ë‹¤ëŠ” ì•„êµ° ì§€ì›ê³¼ ì  ë¬´ë ¥í™”ì— ì¤‘ì ì„ ë‘ê³  ìˆìœ¼ë©°, í¬ë¦¬ìŠ¤í„¸ ìŠ¤íƒœí”„ë¥¼ í†µí•´ ê°•ë ¥í•œ ì¹˜ìœ  ë§ˆë²•ê³¼ ë°©ì–´ë§‰ì„ ì „ê°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</textarea>
</div>
</div>
</div>
</div>

```
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script>
    let profileData = {};

    // ì´ë¯¸ì§€ ì—…ë¡œë“œ ì²˜ë¦¬
    document.getElementById('imageUpload').addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const img = document.createElement('img');
                img.src = e.target.result;
                const container = document.getElementById('profileImage');
                container.innerHTML = '';
                container.appendChild(img);
                container.appendChild(document.getElementById('imageUpload'));
                document.getElementById('removeImage').style.display = 'block';
            };
            reader.readAsDataURL(file);
        }
    });

    // ì´ë¯¸ì§€ ì œê±°
    function removeProfileImage() {
        const container = document.getElementById('profileImage');
        container.innerHTML = '<input type="file" id="imageUpload" accept="image/*">';
        document.getElementById('removeImage').style.display = 'none';
        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¬ë“±ë¡
        document.getElementById('imageUpload').addEventListener('change', arguments.callee);
    }

    // ìŠ¤íƒ¯ ì—…ë°ì´íŠ¸
    function updateStat(input, statName) {
        const value = parseInt(input.value);
        const percentage = Math.min(100, Math.max(0, value));
        
        document.getElementById(statName + '-fill').style.width = percentage + '%';
        document.getElementById(statName + '-value').textContent = percentage + '/100';
        
        input.value = percentage;
    }

    // íƒœê·¸ ì¶”ê°€
    function addTag() {
        const input = document.getElementById('newTag');
        const tagText = input.value.trim().toUpperCase();
        
        if (tagText) {
            const tagContainer = document.getElementById('themeTags');
            const tagElement = document.createElement('div');
            tagElement.className = 'theme-tag';
            tagElement.innerHTML = tagText + '<button class="remove-tag" onclick="removeTag(this)">Ã—</button>';
            tagContainer.appendChild(tagElement);
            input.value = '';
        }
    }

    // íƒœê·¸ ì œê±°
    function removeTag(button) {
        button.parentElement.remove();
    }

    // Enter í‚¤ë¡œ íƒœê·¸ ì¶”ê°€
    function handleTagEnter(event) {
        if (event.key === 'Enter') {
            addTag();
        }
    }

    // í”„ë¡œí•„ ì €ì¥ (ë©”ëª¨ë¦¬ì—)
    function saveProfile() {
        profileData = {
            name: document.getElementById('name').value,
            age: document.getElementById('age').value,
            rank: document.getElementById('rank').value,
            affiliation: document.getElementById('affiliation').value,
            contractDate: document.getElementById('contractDate').value,
            mainAttribute: document.getElementById('mainAttribute').value,
            weapon: document.getElementById('weapon').value,
            description: document.getElementById('description').value,
            stats: {
                aptitude: document.querySelector('[onchange="updateStat(this, \'aptitude\')"]').value,
                attack: document.querySelector('[onchange="updateStat(this, \'attack\')"]').value,
                defense: document.querySelector('[onchange="updateStat(this, \'defense\')"]').value,
                mana: document.querySelector('[onchange="updateStat(this, \'mana\')"]').value,
                agility: document.querySelector('[onchange="updateStat(this, \'agility\')"]').value,
                mental: document.querySelector('[onchange="updateStat(this, \'mental\')"]').value
            },
            tags: Array.from(document.querySelectorAll('.theme-tag')).map(tag => 
                tag.textContent.replace('Ã—', '').trim()
            )
        };
        showNotification('í”„ë¡œí•„ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
    }

    // í”„ë¡œí•„ ë¶ˆëŸ¬ì˜¤ê¸°
    function loadProfile() {
        if (Object.keys(profileData).length === 0) {
            showNotification('ì €ì¥ëœ í”„ë¡œí•„ì´ ì—†ìŠµë‹ˆë‹¤!');
            return;
        }

        document.getElementById('name').value = profileData.name || '';
        document.getElementById('age').value = profileData.age || '';
        document.getElementById('rank').value = profileData.rank || '';
        document.getElementById('affiliation').value = profileData.affiliation || '';
        document.getElementById('contractDate').value = profileData.contractDate || '';
        document.getElementById('mainAttribute').value = profileData.mainAttribute || '';
        document.getElementById('weapon').value = profileData.weapon || '';
        document.getElementById('description').value = profileData.description || '';

        // ìŠ¤íƒ¯ ë¡œë“œ
        if (profileData.stats) {
            Object.keys(profileData.stats).forEach(stat => {
                const input = document.querySelector(`[onchange="updateStat(this, '${stat}')"]`);
                if (input) {
                    input.value = profileData.stats[stat];
                    updateStat(input, stat);
                }
            });
        }

        // íƒœê·¸ ë¡œë“œ
        if (profileData.tags) {
            const tagContainer = document.getElementById('themeTags');
            tagContainer.innerHTML = '';
            profileData.tags.forEach(tagText => {
                const tagElement = document.createElement('div');
                tagElement.className = 'theme-tag';
                tagElement.innerHTML = tagText + '<button class="remove-tag" onclick="removeTag(this)">Ã—</button>';
                tagContainer.appendChild(tagElement);
            });
        }

        showNotification('í”„ë¡œí•„ì´ ë¶ˆëŸ¬ì™€ì¡ŒìŠµë‹ˆë‹¤!');
    }

    // í”„ë¡œí•„ ì´ˆê¸°í™”
    function resetProfile() {
        if (confirm('ì •ë§ë¡œ ëª¨ë“  ë‚´ìš©ì„ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
            location.reload();
        }
    }

    // í”„ë¡œí•„ ë‚´ë³´ë‚´ê¸° (JSON)
    function exportProfile() {
        saveProfile(); // í˜„ì¬ ìƒíƒœ ì €ì¥
        const dataStr = JSON.stringify(profileData, null, 2);
        const dataBlob = new Blob([dataStr], {type: 'application/json'});
        const url = URL.createObjectURL(dataBlob);
        const link = document.createElement('a');
        link.href = url;
        link.download = 'magical_girl_profile.json';
        link.click();
        URL.revokeObjectURL(url);
        showNotification('JSON íŒŒì¼ì´ ë‚´ë³´ë‚´ì¡ŒìŠµë‹ˆë‹¤!');
    }

    // ì´ë¯¸ì§€ë¡œ ë‚´ë³´ë‚´ê¸°
    async function exportAsImage() {
        const overlay = document.getElementById('exportOverlay');
        overlay.style.display = 'flex';
        
        try {
            // ì„ì‹œë¡œ ì»¨íŠ¸ë¡¤ ë²„íŠ¼ë“¤ì„ ìˆ¨ê¹€
            const controls = document.querySelector('.controls');
            const originalDisplay = controls.style.display;
            controls.style.display = 'none';
            
            // í¸ì§‘ ê°€ëŠ¥í•œ ìš”ì†Œë“¤ì˜ í…Œë‘ë¦¬ ì„ì‹œ ì œê±°
            const editableElements = document.querySelectorAll('.editable, .stat-input');
            const originalStyles = [];
            editableElements.forEach((el, index) => {
                originalStyles[index] = el.style.border;
                el.style.border = 'none';
                el.style.background = 'transparent';
            });
            
            // íƒœê·¸ ì œê±° ë²„íŠ¼ë“¤ ìˆ¨ê¹€
            const removeButtons = document.querySelectorAll('.remove-tag, .remove-image');
            removeButtons.forEach(btn => {
                btn.style.display = 'none';
            });
            
            // í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ input ìˆ¨ê¹€
            const imageInput = document.getElementById('imageUpload');
            if (imageInput) {
                imageInput.style.display = 'none';
            }
            
            // html2canvasë¡œ ìº¡ì²˜
            const canvas = await html2canvas(document.querySelector('.container'), {
                backgroundColor: '#0a0a0a',
                scale: 2, // ê³ í•´ìƒë„
                useCORS: true,
                allowTaint: true,
                foreignObjectRendering: true,
                logging: false,
                width: 900,
                height: null,
                scrollX: 0,
                scrollY: 0
            });
            
            // ìŠ¤íƒ€ì¼ ë³µì›
            controls.style.display = originalDisplay;
            editableElements.forEach((el, index) => {
                el.style.border = originalStyles[index];
            });
            removeButtons.forEach(btn => {
                btn.style.display = '';
            });
            if (imageInput) {
                imageInput.style.display = '';
            }
            
            // ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
            const link = document.createElement('a');
            link.download = `magical_girl_profile_${Date.now()}.png`;
            link.href = canvas.toDataURL('image/png');
            link.click();
            
            showNotification('í”„ë¡œí•„ ì´ë¯¸ì§€ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
            
        } catch (error) {
            console.error('ì´ë¯¸ì§€ ë‚´ë³´ë‚´ê¸° ì‹¤íŒ¨:', error);
            showNotification('ì´ë¯¸ì§€ ë‚´ë³´ë‚´ê¸°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        }
        
        overlay.style.display = 'none';
    }

    // ì•Œë¦¼ í‘œì‹œ
    function showNotification(message) {
        const notification = document.getElementById('notification');
        notification.textContent = message;
        notification.classList.add('show');
        setTimeout(() => {
            notification.classList.remove('show');
        }, 3000);
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ìŠ¤íƒ¯ ì• ë‹ˆë©”ì´ì…˜
    document.addEventListener('DOMContentLoaded', function() {
        const statFills = document.querySelectorAll('.stat-fill');
        statFills.forEach(fill => {
            const width = fill.style.width;
            fill.style.width = '0%';
            setTimeout(() => {
                fill.style.width = width;
            }, 500);
        });
    });

    // í¸ì§‘ ê°€ëŠ¥í•œ ìš”ì†Œë“¤ì— ëŒ€í•œ ìƒí˜¸ì‘ìš©
    document.querySelectorAll('.editable').forEach(element => {
        element.addEventListener('focus', function() {
            this.style.background = '#222';
        });
        
        element.addEventListener('blur', function() {
            this.style.background = 'transparent';
        });
    });
</script>
```

</body>
</html>
